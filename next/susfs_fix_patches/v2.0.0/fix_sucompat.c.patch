diff --git a/kernel/sucompat.c b/kernel/sucompat.c
index 4e5db588..53967ce9 100644
--- a/kernel/sucompat.c
+++ b/kernel/sucompat.c
@@ -76,7 +76,7 @@ static char __user *ksud_user_path(void)
 
 	return userspace_stack_buffer(ksud_path, sizeof(ksud_path));
 }
-
+#ifndef CONFIG_KSU_SUSFS
 int ksu_handle_faccessat(int *dfd, const char __user **filename_user,
 		int *mode, int *__unused_flags)
 {
