From 8f1a2b3c4d5e6f7g8h9i0j1k2l3m4n5o6p7q8r9s Mon Sep 17 00:00:00 2001
From: YourName <you@example.com>
Date: Thu, 30 Oct 2025 12:00:00 +0800
Subject: [PATCH] Add minimal manual hook stubs for min_scope_syscall_hooks

This patch adds only the two symbols required by
min_scope_syscall_hooks_v1.5.patch when CONFIG_KSU_KPROBES_HOOK=n.

Signed-off-by: YourName <you@example.com>
---
 kernel/ksud.c | 13 +++++++++++++
 1 file changed, 13 insertions(+)

diff --git a/kernel/ksud.c b/kernel/ksud.c
index b96c5ff9..3a2b1c4d 100644
--- a/kernel/ksud.c
+++ b/kernel/ksud.c
@@ -57,6 +57,19 @@ bool ksu_input_hook __read_mostly = true;
 #endif
 bool ksu_execveat_hook __read_mostly = true;
 
+// === Minimal Manual Syscall Hook Stubs ===
+// Required by min_scope_syscall_hooks_v1.5.patch when CONFIG_KSU_KPROBES_HOOK=n
+
+int ksu_handle_sys_read(unsigned int fd, char __user *buf, size_t count)
+{
+	return 0;
+}
+EXPORT_SYMBOL(ksu_handle_sys_read);
+
+int ksu_handle_input_handle_event(struct input_handle *handle,
+				  unsigned int type, unsigned int code, int value)
+{
+	return 0;
+}
+EXPORT_SYMBOL(ksu_handle_input_handle_event);
+
 u32 ksu_devpts_sid;
 
 void on_post_fs_data(void)
-- 
2.51.1.dirty
